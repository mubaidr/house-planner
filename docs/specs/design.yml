architecture:
  overview: |
    Systematic cleanup of House Planner TypeScript and ESLint errors.
    Fix type definitions, imports/exports, React hooks, and ensure complete feature implementation.

  approach: |
    1. Fix core type definitions (Material, Element types)
    2. Fix missing exports and imports
    3. Fix store type issues
    4. Fix hook dependency and conditional calling issues
    5. Fix component type issues
    6. Fix utility type issues
    7. Clean up ESLint warnings
    8. Verify complete feature implementation

type_system:
  missing_exports:
    - MaterialApplication type in Material.ts
    - WallJoinResult, command types in wall intersection
    - Various Element2D related types
    - Stage/Konva related types

  missing_imports:
    - JSZip module declaration
    - file-saver module declaration
    - Browser API type extensions
    - Konva event type extensions

  implicit_any_issues:
    - Function parameters throughout codebase
    - Event handlers and callbacks
    - Array methods (map, filter, find)
    - Utility function parameters

stores:
  designStore:
    issue: Circular reference in type annotation
    fix: Add explicit return types for functions

  materialStore:
    issue: Missing MaterialApplication type import
    fix: Add MaterialApplication to Material.ts exports

  floorStore:
    issue: Missing Stair and Roof properties in elements
    fix: Complete Floor type definition

hooks:
  dependency_issues:
    - useCallback missing dependencies
    - useEffect missing dependencies
    - Conditional hook calls in PropertiesPanel

  type_issues:
    - Implicit any parameters
    - Missing return type annotations
    - Missing command type definitions

components:
  react_issues:
    - Conditional hook calls
    - Missing dependency arrays
    - Event handler type issues

  accessibility_issues:
    - Missing aria-selected attributes
    - Missing required ARIA properties

utilities:
  browser_api_issues:
    - File system API type definitions
    - Canvas API compatibility
    - Window API extensions

edge_cases:
  - Browser compatibility for file system APIs
  - Canvas rendering in different environments
  - Material property validation
  - Type safety in dynamic imports
