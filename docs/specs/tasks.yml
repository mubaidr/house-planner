tasks:
  - id: task-001
    related_requirements: [req-002]
    related_design: [type_system]
    dependencies: []
    description: Fix core type definitions and missing exports
    status: to_do
    outcome: All core types properly defined and exported
    edge_cases:
      - MaterialApplication type missing
      - Command types missing
      - Browser API extensions
    priority: critical
    subtasks:
      - Add MaterialApplication export to Material.ts
      - Add WallJoinResult and command types
      - Fix browser API type declarations
      - Add Konva event type extensions

  - id: task-002
    related_requirements: [req-002]
    related_design: [stores]
    dependencies: [task-001]
    description: Fix store type issues and circular references
    status: to_do
    outcome: All stores compile without type errors
    edge_cases:
      - Circular type references
      - Missing property types
      - State typing issues
    priority: critical
    subtasks:
      - Fix designStore circular reference
      - Complete Floor type definition
      - Add explicit return types

  - id: task-003
    related_requirements: [req-001, req-002]
    related_design: [hooks]
    dependencies: [task-002]
    description: Fix React hooks issues (dependencies, conditional calls, types)
    status: to_do
    outcome: All hooks follow React rules and have proper types
    edge_cases:
      - Conditional hook calls
      - Missing dependencies
      - Implicit any parameters
    priority: high
    subtasks:
      - Fix conditional hook calls in PropertiesPanel
      - Add missing dependencies to useCallback/useEffect
      - Type all hook parameters

  - id: task-004
    related_requirements: [req-001, req-002]
    related_design: [components]
    dependencies: [task-003]
    description: Fix component type issues and React warnings
    status: to_do
    outcome: All components compile and render without warnings
    edge_cases:
      - Event handler types
      - Component prop types
      - Accessibility attributes
    priority: high
    subtasks:
      - Fix event handler types
      - Add missing ARIA attributes
      - Fix component prop types

  - id: task-005
    related_requirements: [req-001, req-002]
    related_design: [utilities]
    dependencies: [task-004]
    description: Fix utility function types and browser API issues
    status: to_do
    outcome: All utilities properly typed and browser compatible
    edge_cases:
      - Browser API compatibility
      - Dynamic imports
      - File system APIs
    priority: high
    subtasks:
      - Add browser API feature detection
      - Fix dynamic import types
      - Type all utility parameters

  - id: task-006
    related_requirements: [req-001]
    related_design: []
    dependencies: [task-005]
    description: Clean up ESLint warnings and unused code
    status: to_do
    outcome: No ESLint errors when running npm run lint
    edge_cases:
      - Unused variables in callbacks
      - Escape character issues
      - Import ordering
    priority: medium
    subtasks:
      - Remove or prefix unused variables
      - Fix escape character issues
      - Clean up imports

  - id: task-007
    related_requirements: [req-003]
    related_design: []
    dependencies: [task-006]
    description: Verify and complete feature implementation
    status: to_do
    outcome: All features from REQUIREMENTS.md fully implemented
    edge_cases:
      - Missing feature implementations
      - Partial implementations
      - Integration issues
    priority: high
    subtasks:
      - Audit all required features
      - Complete missing implementations
      - Test feature integration

  - id: task-008
    related_requirements: [req-004]
    related_design: []
    dependencies: [task-007]
    description: Verify build and development environment
    status: to_do
    outcome: Build, dev, and test commands work without errors
    edge_cases:
      - Build configuration issues
      - Test environment setup
      - Development server issues
    priority: high
    subtasks:
      - Test npm run build
      - Test npm run dev
      - Test npm test
      - Fix any remaining issues
